{/* src/Chart.stories.mdx */}

import { Meta, Story, Canvas, Source } from '@storybook/addon-docs';
import BarChart from './BarChart';

<Meta title="Components/Charts/BarChart" component={BarChart} />

# BarChart

The `BarChart` component renders a bar chart using D3 and React. It's designed to display data visually in a simple and effective way, making it easier to compare values across different categories.

Bar charts are particularly useful for comparing quantities corresponding to different groups or categories. The height of each bar is proportional to the values they represent.

## Props

- **`data`**: `Array<{ language: string, value: number, color: string }>` - An array of objects representing the data points. *(required)*
- **`width`**: `number` - The width of the chart in pixels. *(required)*
- **`height`**: `number` - The height of the chart in pixels. *(required)*
- **`color`**: `string` - The default fill color for the bars.
- **`labelColor`**: `string` - The color for the bar labels. *(default: `#FFFFFF`)*
- **`title`**: `string` - The title of the chart.
- **`axisColor`**: `string` - The color of the axis lines.
- **`tickColor`**: `string` - The color of the tick lines.
- **`ariaLabel`**: `string` - ARIA label for accessibility. *(default: "Bar chart showing data")*
- **`ariaDescription`**: `string` - A description of the chart content for screen readers.

## Usage

To use the `BarChart` component, import it into your React application and provide it with the required props.

### Default BarChart

Below is a simple bar chart using a default dataset.

<Canvas>
  <Story name="Default BarChart">
    {() => (
      <BarChart
        data={[
          { language: 'Rust', value: 78.9, color: '#000000' },
          { language: 'Kotlin', value: 75.1, color: '#00a2ee' },
          { language: 'Python', value: 68.0, color: '#fbcb39' },
          { language: 'TypeScript', value: 67.0, color: '#007bc8' },
          { language: 'Go', value: 65.6, color: '#65cedb' },
          { language: 'Swift', value: 65.1, color: '#ff6e52' },
          { language: 'JavaScript', value: 61.9, color: '#f9de3f' },
          { language: 'C#', value: 60.4, color: '#5d2f8e' },
          { language: 'F#', value: 59.6, color: '#008fc9' },
          { language: 'Clojure', value: 59.6, color: '#507dca' }
        ]}
        width={1000}
        height={600}
        labelColor="#9FAAAE"
        axisColor="#FFFFFF"
        tickColor="#9FAAAE"
        title="Most Loved Programming Languages in 2024"
        ariaLabel="Bar chart showing the most loved programming languages in
      2024"
        ariaDescription="This chart displays the percentage of developers who expressed love for specific programming languages in 2024, with Rust being the most loved."
      />
    )}
  </Story>
</Canvas>

<Source
  language="jsx"
  code={`
import React from 'react';
import BarChart from './BarChart';

const Example = () => (
  <BarChart
    data={[
      { language: 'Rust', value: 78.9, color: '#000000' },
      { language: 'Kotlin', value: 75.1, color: '#00a2ee' },
      { language: 'Python', value: 68.0, color: '#fbcb39' },
      { language: 'TypeScript', value: 67.0, color: '#007bc8' },
      { language: 'Go', value: 65.6, color: '#65cedb' },
      { language: 'Swift', value: 65.1, color: '#ff6e52' },
      { language: 'JavaScript', value: 61.9, color: '#f9de3f' },
      { language: 'C#', value: 60.4, color: '#5d2f8e' },
      { language: 'F#', value: 59.6, color: '#008fc9' },
      { language: 'Clojure', value: 59.6, color: '#507dca' }
    ]}
    width={1000}
    height={600}
    labelColor="#FFFFFF"
    axisColor="#FFFFFF"
    tickColor="#9FAAAE"
    title="Most Loved Programming Languages in 2024"
    ariaLabel="Bar chart showing the most loved programming languages in 2024"
    ariaDescription="This chart displays the percentage of developers who expressed love for specific programming languages in 2024, with Rust being the most loved."
  />
);

export default Example;
`}
/>

### Custom RTL BarChart

This example demonstrates how to customize the bar chart with RTL text direction and Arabic data labels.

<Canvas>
  <Story name="Custom RTL BarChart">
    {() => (
      <BarChart
        data={[
          { language: 'يناير', value: 78.9, color: '#000000' },
          { language: 'فبراير', value: 75.1, color: '#00a2ee' },
          { language: 'مارس', value: 68.0, color: '#fbcb39' },
          { language: 'أبريل', value: 67.0, color: '#007bc8' },
          { language: 'مايو', value: 65.6, color: '#65cedb' },
          { language: 'يونيو', value: 65.1, color: '#ff6e52' },
          { language: 'يوليو', value: 61.9, color: '#f9de3f' }
        ]}
        width={1000}
        height={600}
        color="#4065A3"
        axisColor="#000000"
        tickColor="#A0A0A0"
      title="Most Loved Programming Languages in 2024"
        ariaLabel="شريط الرسم البياني يوضح المساهمات التطوعية بالأرقام"
      />
    )}
  </Story>
</Canvas>

<Source
  language="jsx"
  code={`
import React from 'react';
import BarChart from './BarChart';

const RTLExample = () => (
  <BarChart
    data={[
      { language: 'يناير', value: 78.9, color: '#000000' },
      { language: 'فبراير', value: 75.1, color: '#00a2ee' },
      { language: 'مارس', value: 68.0, color: '#fbcb39' },
      { language: 'أبريل', value: 67.0, color: '#007bc8' },
      { language: 'مايو', value: 65.6, color: '#65cedb' },
      { language: 'يونيو', value: 65.1, color: '#ff6e52' },
      { language: 'يوليو', value: 61.9, color: '#f9de3f' }
    ]}
    width={1000}
    height={600}
    color="#4065A3"
    axisColor="#000000"
    tickColor="#A0A0A0"
    title="المساهمات التطوعية بالأرقام"
    ariaLabel="شريط الرسم البياني يوضح المساهمات التطوعية بالأرقام"
  />
);

export default RTLExample;
`}
/>

### Total Count of Deliverables

This example shows the total count of deliverables over time.

<Canvas>
  <Story name="Total Count of Deliverables">
    {() => (
      <BarChart
        data={[
          { language: 'January', value: 20, color: '#4065A3' },
          { language: 'February', value: 50, color: '#4065A3' },
          { language: 'March', value: 80, color: '#4065A3' },
          { language: 'April', value: 10, color: '#4065A3' },
          { language: 'May', value: 50, color: '#4065A3' },
          { language: 'June', value: 20, color: '#4065A3' },
          { language: 'July', value: 40, color: '#4065A3' },
          { language: 'August', value: 80, color: '#4065A3' },
          { language: 'September', value: 32, color: '#4065A3' },
          { language: 'October', value: 36, color: '#4065A3' },
          { language: 'November', value: 40, color: '#4065A3' },
          { language: 'December', value: 44, color: '#4065A3' }
        ]}
        width={1000}
        height={400}
        axisColor="#fff"
        tickColor="#9FAAAE"
        title="Total Count of Deliverables"
      />
    )}
  </Story>
</Canvas>

<Source
  language="jsx"
  code={`
import React from 'react';
import BarChart from './BarChart';

const DeliverablesExample = () => (
  <BarChart
    data={[
      { language: 'January', value: 20, color: '#4065A3' },
      { language: 'February', value: 50, color: '#4065A3' },
      { language: 'March', value: 80, color: '#4065A3' },
      { language: 'April', value: 10, color: '#4065A3' },
      { language: 'May', value: 50, color: '#4065A3' },
      { language: 'June', value: 20, color: '#4065A3' },
      { language: 'July', value: 40, color: '#4065A3' },
      { language: 'August', value: 80, color: '#4065A3' },
      { language: 'September', value: 32, color: '#4065A3' },
      { language: 'October', value: 36, color: '#4065A3' },
      { language: 'November', value: 40, color: '#4065A3' },
      { language: 'December', value: 44, color: '#4065A3' }
    ]}
    width={1000}
    height={600}
    axisColor="#fff"
    tickColor="#9FAAAE"
    title="Total Count of Deliverables"
  />
);

export default DeliverablesExample;
`}
/>

### Content

The `BarChart` component uses SVG to render bars, where each bar's height corresponds to its value in the dataset. Bars are evenly spaced along the x-axis, and the y-axis height is scaled according to the data.

### Accessibility

**ARIA Roles**: The component should include appropriate ARIA roles and labels to describe its purpose and content for screen readers.

**Keyboard Navigation**: Ensure keyboard focus can be moved to the chart to enhance accessibility.

### Interactions

**Hover Effects**: Implement hover effects to highlight bars and provide more detailed information if applicable.

### Changelog

1.0 — Initial release of the component

