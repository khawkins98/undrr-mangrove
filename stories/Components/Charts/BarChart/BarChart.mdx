import { Meta, Story, Canvas, Source } from '@storybook/blocks';
import BarChart from './BarChart';
import Fetcher from "../../Fetcher/Fetcher";
import * as BarChartStories from './BarChart.stories';
import { Loader } from "../../../Utilities/Loader/Loader";

<Meta of={BarChartStories} />

# BarChart

The `BarChart` component visualizes categorical data using D3.js. It displays bars representing data points with customizable colors, labels, and axis options.

## Props

* **`data`**: `Array<{ label: string, value: number, color: string }>` - Array of data points for the chart. *(required)*
* **`width`**: `number` - Width of the chart in pixels. *(required)*
* **`height`**: `number` - Height of the chart in pixels. *(required)*
* **`labelColor`**: `string` - Color for the bar labels. *(default: `#6B7280`)*
* **`backgroundColor`**: `string` - Background color of the chart. *(default: `#FFFFFF`)*
* **`title`**: `string` - Title of the chart. *(optional)*

## Usage

To use the `BarChart` component, import it into your React application and provide the required props.

### BarChart for Commitments

<Canvas>
  <Story name="BarChart for Commitments">
    {() => (
      <Fetcher
        api="https://sfvc-migration.undrr.org/api/v2/content/commitments-metrics"
        render={({ isLoading, data }) => (
          <>
            {isLoading ? <Loader /> : <BarChart data={data} type="COMMITMENTS" />}
          </>
        )}
      />
    )}
  </Story>
</Canvas>

### BarChart for Organizations

<Canvas>
  <Story name="BarChart for Organizations">
    {() => (
      <Fetcher
        api="https://sfvc-migration.undrr.org/api/v2/content/commitments-metrics"
        render={({ isLoading, data }) => (
          <>
            {isLoading ? <Loader /> : <BarChart data={data} type="ORGANIZATIONS" />}
          </>
        )}
      />
    )}
  </Story>
</Canvas>

<Source
  language="jsx"
  code={`
import React from 'react';
import BarChart from './BarChart';
import Fetcher from '../../Fetcher/Fetcher';

const BarChartWithFetcher = () => (
  <Fetcher
    api="https://sfvc-migration.undrr.org/api/v2/content/commitments-metrics"
    render={({ isLoading, data }) => (
      <>
        {isLoading ? <Loader /> : <BarChart data={data} type="ORGANIZATIONS" />}
      </>
    )}
  />
);

export default BarChartWithFetcher;
`}
/>

### BarChart for Deliverables

<Canvas>
  <Story name="BarChart for Deliverables">
    {() => (
      <Fetcher
        api="https://sfvc-migration.undrr.org/api/v2/content/commitments-metrics"
        render={({ isLoading, data }) => (
          <>
            {isLoading ? <Loader /> : <BarChart data={data} type="DELIVERABLES" />}
          </>
        )}
      />
    )}
  </Story>
</Canvas>

<Source
  language="jsx"
  code={`
import React from 'react';
import BarChart from './BarChart';
import Fetcher from '../../Fetcher/Fetcher';

const BarChartWithFetcher = () => (
  <Fetcher
    api="https://sfvc-migration.undrr.org/api/v2/content/commitments-metrics"
    render={({ isLoading, data }) => (
      <>
        {isLoading ? <Loader /> : <BarChart data={data} type="DELIVERABLES" />}
      </>
    )}
  />
);

export default BarChartWithFetcher;
`}
/>

### Accessibility

Ensure keyboard navigation and ARIA roles are properly implemented for enhanced accessibility.

### Changelog

1.0 â€” Initial release of the component

